//a：parameter b:value c:averagingPeriod_value
function aqi(a,b,c){
  var index;
  if(b<0){
    index=-1;
  }
  if(a=='pm25'&&c==24){
    if(0<=b&&b<=12){
      index= 50*1.0/12*b;
    }
    if(12.1<=b&&b<=35.4){
      index= 50*1.0/23.3*(b-12.1)+50;
    }
    if(35.5<=b&&b<=55.4){
      index= 50*1.0/19.9*(b-35.5)+100;
    }
    if(55.5<=b&&b<=150.4){
      index= 50*1.0/94.9*(b-55.5)+150;
    }
    if(150.5<=b&&b<=250.4){
      index= 100*1.0/99.9*(b-150.5)+200;
    }
    if(250.5<=b&&b<=350.4){
      index= 100*1.0/99.9*(b-250.5)+300;
    }
    if(350.5<=b&&b<=500.4){
      index= 100*1.0/149.9*(b-350.5)+400;
    }
  }
  if(a=='pm10'&&c==24){
    if(0<=b&&b<55){
      index= 50*1.0/55*b;
    }
    if(55<=b&&b<155){
      index= 50*1.0/100*(b-55)+50;
    }
    if(155<=b&&b<255){
      index= 50*1.0/100*(b-155)+100;
    }
    if(255<=b&&b<355){
      index= 50*1.0/100*(b-255)+150;
    }
    if(355<=b&&b<425){
      index= 100*1.0/70*(b-355)+200;
    }
    if(425<=b&&b<505){
      index= 100*1.0/80*(b-425)+300;
    }
    if(505<=b&&b<605){
      index= 100*1.0/100*(b-505)+400;
    }
  }
  // if(a=='no2'&& c==24){
  //   if(0<=b&&b<40){
  //     index= 50*1.0/40*b;
  //   }
  //   if(40<=b&&b<80){
  //     index= 50*1.0/40*(b-40)+50;
  //   }
  //   if(80<=b&&b<180){
  //     index= 50*1.0/100*(b-80)+100;
  //   }
  //   if(180<=b&&b<280){
  //     index= 50*1.0/100*(b-180)+150;
  //   }
  //   if(280<=b&&b<565){
  //     index= 100*1.0/285*(b-280)+200;
  //   }
  //   if(565<=b&&b<750){
  //     index= 100*1.0/185*(b-565)+300;
  //   }
  //   if(750<=b&&b<940){
  //     index= 100*1.0/190*(b-750)+400;
  //   }
  // }
  if(a=='no2'&& c==1){
    b=b*1000;
    if(0<=b&&b<54){
      index= 50*1.0/54*b;
    }
    if(54<=b&&b<101){
      index= 50*1.0/47*(b-54)+50;
    }
    if(101<=b&&b<361){
      index= 50*1.0/260*(b-101)+100;
    }
    if(361<=b&&b<650){
      index= 50*1.0/289*(b-361)+150;
    }
    if(650<=b&&b<1250){
      index= 100*1.0/600*(b-650)+200;
    }
    if(1250<=b&&b<1650){
      index= 100*1.0/400*(b-1250)+300;
    }
    if(1650<=b&&b<2050){
      index= 100*1.0/400*(b-1650)+400;
    }
  }
  // if(a=='so2'&&c==24){
  //   if(0<=b&&b<50){
  //     index= 50*1.0/50*b;
  //   }
  //   if(50<=b&&b<150){
  //     index= 50*1.0/100*(b-50)+50;
  //   }
  //   if(150<=b&&b<475){
  //     index= 50*1.0/325*(b-150)+100;
  //   }
  //   if(475<=b&&b<800){
  //     index= 50*1.0/325*(b-475)+150;
  //   }
  //   if(800<=b&&b<1600){
  //     index= 100*1.0/800*(b-800)+200;
  //   }
  //   if(1600<=b&&b<2100){
  //     index= 100*1.0/500*(b-1600)+300;
  //   }
  //   if(2100<=b&&b<2620){
  //     index= 100*1.0/520*(b-2100)+400;
  //   }
  // }
  if(a=='so2'&&c==1){
    b=b*1000;
    if(0<=b&&b<36){
      index= 50*1.0/36*b;
    }
    if(36<=b&&b<76){
      index= 50*1.0/40*(b-36)+50;
    }
    if(76<=b&&b<186){
      index= 50*1.0/110*(b-76)+100;
    }
    if(186<=b&&b<305){
      index= 50*1.0/119*(b-186)+150;
    }
    if(305<=b&&b<605){
      index= 100*1.0/300*(b-305)+200;
    }
    if(605<=b&&b<805){
      index= 100*1.0/200*(b-605)+300;
    }
    if(805<=b&&b<1005){
      index= 100*1.0/200*(b-805)+400;
    }
  }
  if(a=='co'&&c==8){
    if(0<=b&&b<4.5){
      index= 50*1.0/4.5*b;
    }
    if(4.5<=b&&b<9.5){
      index= 50*1.0/5*(b-4.5)+50;
    }
    if(9.5<=b&&b<12.5){
      index= 50*1.0/3*(b-9.5)+100;
    }
    if(12.5<=b&&b<15.5){
      index= 50*1.0/3*(b-12.5)+150;
    }
    if(15.5<=b&&b<30.5){
      index= 100*1.0/15*(b-15.5)+200;
    }
    if(30.5<=b&&b<40.5){
      index= 100*1.0/10*(b-30.5)+300;
    }
    if(40.5<=b&&b<50.5){
      index= 100*1.0/10*(b-40.5)+400;
    }
  }
  if(a=='co'&&c==1){ //国标
    if(0<=b&&b<5){
      index= 50*1.0/5*b;
    }
    if(5<=b&&b<10){
      index= 50*1.0/5*(b-5)+50;
    }
    if(10<=b&&b<35){
      index= 50*1.0/25*(b-10)+100;
    }
    if(35<=b&&b<60){
      index= 50*1.0/25*(b-35)+150;
    }
    if(60<=b&&b<90){
      index= 100*1.0/30*(b-60)+200;
    }
    if(90<=b&&b<120){
      index= 100*1.0/30*(b-90)+300;
    }
    if(120<=b&&b<150){
      index= 100*1.0/30*(b-120)+400;
    }
  }
  if(a=='o3'&&c==1){
    b = b*1000;
    if(0<=b&&b<55){
      index= 50*1.0/55*b;
    }
    if(55<=b&&b<125){
      index= 50*1.0/70*(b-55)+50;
    }
    if(125<=b&&b<165){
      index= 50*1.0/40*(b-125)+100;
    }
    if(165<=b&&b<205){
      index= 50*1.0/40*(b-165)+150;
    }
    if(205<=b&&b<405){
      index= 100*1.0/200*(b-205)+200;
    }
    if(405<=b&&b<505){
      index= 100*1.0/100*(b-405)+300;
    }
    if(505<=b&&b<605){
      index= 100*1.0/100*(b-505)+400;
    }
  }
  return Math.floor(index);
  // if(a=='o3'&&c==8){
  //   if(0<=b&&b<100){
  //     index= 50*1.0/100*b;
  //   }
  //   if(100<=b&&b<160){
  //     index= 50*1.0/60*(b-100)+50;
  //   }
  //   if(160<=b&&b<215){
  //     index= 50*1.0/55*(b-160)+100;
  //   }
  //   if(215<=b&&b<265){
  //     index= 50*1.0/50*(b-215)+150;
  //   }
  //   if(265<=b&&b<800){
  //     index= 100*1.0/535*(b-265)+200;
  //   }
  //   if(800<=b&&b<1000){
  //     index= 100*1.0/200*(b-800)+300;
  //   }
  //   if(1000<=b&&b<1200){
  //     index= 100*1.0/30*(b-1000)+400;
  //   }
  // }
}



function aqi2(a,b){
  //a is parameter type, b is parameter value;
  var index=0;
  if(a=='pm25'){
    if(0<=b&&b<=12){
      index= 50*1.0/12*b;
    }
    if(12.1<=b&&b<=35.4){
      index= 50*1.0/23.3*(b-12.1)+50;
    }
    if(35.5<=b&&b<=55.4){
      index= 50*1.0/19.9*(b-35.5)+100;
    }
    if(55.5<=b&&b<=150.4){
      index= 50*1.0/94.9*(b-55.5)+150;
    }
    if(150.5<=b&&b<=250.4){
      index= 100*1.0/99.9*(b-150.5)+200;
    }
    if(250.5<=b&&b<=350.4){
      index= 100*1.0/99.9*(b-250.5)+300;
    }
    if(350.5<=b&&b<=500.4){
      index= 100*1.0/149.9*(b-350.5)+400;
    }
  }
  if(a=='pm10'){
    if(0<=b&&b<55){
      index= 50*1.0/55*b;
    }
    if(55<=b&&b<155){
      index= 50*1.0/100*(b-55)+50;
    }
    if(155<=b&&b<255){
      index= 50*1.0/100*(b-155)+100;
    }
    if(255<=b&&b<355){
      index= 50*1.0/100*(b-255)+150;
    }
    if(355<=b&&b<425){
      index= 100*1.0/70*(b-355)+200;
    }
    if(425<=b&&b<505){
      index= 100*1.0/80*(b-425)+300;
    }
    if(505<=b&&b<605){
      index= 100*1.0/100*(b-505)+400;
    }
  }
  if(a=='no2'){
    b=b*1000;
    if(0<=b&&b<54){
      index= 50*1.0/54*b;
    }
    if(54<=b&&b<101){
      index= 50*1.0/47*(b-54)+50;
    }
    if(101<=b&&b<361){
      index= 50*1.0/260*(b-101)+100;
    }
    if(361<=b&&b<650){
      index= 50*1.0/289*(b-361)+150;
    }
    if(650<=b&&b<1250){
      index= 100*1.0/600*(b-650)+200;
    }
    if(1250<=b&&b<1650){
      index= 100*1.0/400*(b-1250)+300;
    }
    if(1650<=b&&b<2050){
      index= 100*1.0/400*(b-1650)+400;
    }
  }
  if(a=='so2'){
    b=b*1000;
    if(0<=b&&b<36){
      index= 50*1.0/36*b;
    }
    if(36<=b&&b<76){
      index= 50*1.0/40*(b-36)+50;
    }
    if(76<=b&&b<186){
      index= 50*1.0/110*(b-76)+100;
    }
    if(186<=b&&b<305){
      index= 50*1.0/119*(b-186)+150;
    }
    if(305<=b&&b<605){
      index= 100*1.0/300*(b-305)+200;
    }
    if(605<=b&&b<805){
      index= 100*1.0/200*(b-605)+300;
    }
    if(805<=b&&b<1005){
      index= 100*1.0/200*(b-805)+400;
    }
  }
  if(a=='co'){ //国标
    if(0<=b&&b<5){
      index= 50*1.0/5*b;
    }
    if(5<=b&&b<10){
      index= 50*1.0/5*(b-5)+50;
    }
    if(10<=b&&b<35){
      index= 50*1.0/25*(b-10)+100;
    }
    if(35<=b&&b<60){
      index= 50*1.0/25*(b-35)+150;
    }
    if(60<=b&&b<90){
      index= 100*1.0/30*(b-60)+200;
    }
    if(90<=b&&b<120){
      index= 100*1.0/30*(b-90)+300;
    }
    if(120<=b&&b<150){
      index= 100*1.0/30*(b-120)+400;
    }
  }
  if(a=='o3'){
    b = b*1000;
    if(0<=b&&b<55){
      index= 50*1.0/55*b;
    }
    if(55<=b&&b<125){
      index= 50*1.0/70*(b-55)+50;
    }
    if(125<=b&&b<165){
      index= 50*1.0/40*(b-125)+100;
    }
    if(165<=b&&b<205){
      index= 50*1.0/40*(b-165)+150;
    }
    if(205<=b&&b<405){
      index= 100*1.0/200*(b-205)+200;
    }
    if(405<=b&&b<505){
      index= 100*1.0/100*(b-405)+300;
    }
    if(505<=b&&b<605){
      index= 100*1.0/100*(b-505)+400;
    }
  }
  return Math.floor(index);
}
